@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   Neo-Brutalist Design System Variables
   ============================================ */

:root {
  /* Light Mode - Default */
  --bg-primary: #FAFAFA;
  --bg-secondary: #F0F0F0;
  --bg-tertiary: #E5E5E5;
  --bg-elevated: #FFFFFF;

  /* Borders - Thick brutalist borders */
  --border-primary: #1A1A1A;
  --border-secondary: #D4D4D4;

  /* Text */
  --text-primary: #0A0A0A;
  --text-secondary: #525252;
  --text-tertiary: #A3A3A3;

  /* Accent Colors */
  --accent-purple: #8B5CF6;
  --accent-blue: #3B82F6;
  --accent-green: #22C55E;
  --accent-orange: #F97316;
  --accent-red: #EF4444;
  --accent-pink: #EC4899;

  /* Type Colors */
  --type-note: #737373;
  --type-code: #22C55E;
  --type-link: #8B5CF6;
  --type-todo: #F97316;
  --type-decision: #EF4444;
  --type-rationale: #3B82F6;

  /* Neo-brutalist shadows - Hard offset shadows */
  --shadow-brutal-sm: 2px 2px 0px rgba(0, 0, 0, 0.15);
  --shadow-brutal: 4px 4px 0px rgba(0, 0, 0, 0.12);
  --shadow-brutal-lg: 8px 8px 0px rgba(0, 0, 0, 0.1);
  --shadow-glow: none;

  /* Transitions */
  --transition-fast: 150ms;
  --transition-normal: 250ms;
  --transition-slow: 400ms;

  /* Border radius - Keep minimal for brutalist feel */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
}

/* Dark Mode */
.dark {
  --bg-primary: #0A0A0A;
  --bg-secondary: #171717;
  --bg-tertiary: #262626;
  --bg-elevated: #1F1F1F;

  --border-primary: #404040;
  --border-secondary: #262626;

  --text-primary: #FAFAFA;
  --text-secondary: #A3A3A3;
  --text-tertiary: #525252;

  /* Softer accents for dark mode */
  --accent-purple: #A78BFA;
  --accent-blue: #60A5FA;
  --accent-green: #4ADE80;
  --accent-orange: #FB923C;
  --accent-red: #F87171;
  --accent-pink: #F472B6;

  /* Type colors - slightly brighter for dark mode */
  --type-note: #A3A3A3;
  --type-code: #4ADE80;
  --type-link: #A78BFA;
  --type-todo: #FB923C;
  --type-decision: #F87171;
  --type-rationale: #60A5FA;

  /* Dark mode uses glows instead of hard shadows */
  --shadow-brutal-sm: 0 0 8px rgba(139, 92, 246, 0.08);
  --shadow-brutal: 0 0 16px rgba(139, 92, 246, 0.1);
  --shadow-brutal-lg: 0 0 32px rgba(139, 92, 246, 0.12);
  --shadow-glow: 0 0 20px rgba(139, 92, 246, 0.15);
}

/* ============================================
   Base Styles
   ============================================ */

* {
  box-sizing: border-box;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color var(--transition-normal), color var(--transition-normal);
}

/* Focus styles */
*:focus-visible {
  outline: 2px solid var(--accent-purple);
  outline-offset: 2px;
}

/* Selection */
::selection {
  background-color: var(--accent-purple);
  color: white;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--border-secondary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-tertiary);
}

/* ============================================
   Utility Classes
   ============================================ */

@layer utilities {
  /* Neo-brutalist border */
  .border-brutal {
    border: 2px solid var(--border-primary);
  }

  .border-brutal-3 {
    border: 3px solid var(--border-primary);
  }

  /* Glass effect for dark mode */
  .glass {
    @apply backdrop-blur-md;
    background: rgba(255, 255, 255, 0.05);
  }

  .dark .glass {
    background: rgba(0, 0, 0, 0.3);
  }

  /* Text gradient */
  .text-gradient {
    background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Smooth transitions */
  .transition-theme {
    transition: background-color var(--transition-normal),
                color var(--transition-normal),
                border-color var(--transition-normal),
                box-shadow var(--transition-normal);
  }
}

/* ============================================
   Component Base Styles
   ============================================ */

/* Card base */
.card {
  @apply bg-bg-elevated border-brutal rounded-lg;
  box-shadow: var(--shadow-brutal);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.card:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-brutal-lg);
}

/* Button base */
.btn {
  @apply inline-flex items-center justify-center font-semibold;
  @apply px-4 py-2 rounded-md;
  @apply border-2 border-border-primary;
  @apply transition-all duration-150;
  box-shadow: var(--shadow-brutal-sm);
}

.btn:hover {
  transform: translate(-1px, -1px);
  box-shadow: var(--shadow-brutal);
}

.btn:active {
  transform: translate(1px, 1px);
  box-shadow: none;
}

.btn-primary {
  @apply bg-accent-purple text-white border-accent-purple;
}

.btn-secondary {
  @apply bg-bg-elevated text-text-primary;
}

.btn-ghost {
  @apply bg-transparent border-transparent;
  box-shadow: none;
}

.btn-ghost:hover {
  @apply bg-bg-tertiary;
  box-shadow: none;
  transform: none;
}

/* Input base */
.input {
  @apply w-full px-4 py-3;
  @apply bg-bg-elevated text-text-primary;
  @apply border-2 border-border-primary rounded-md;
  @apply placeholder:text-text-tertiary;
  @apply focus:outline-none focus:ring-2 focus:ring-accent-purple focus:border-accent-purple;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

/* Badge base */
.badge {
  @apply inline-flex items-center px-2 py-0.5;
  @apply text-xs font-medium rounded-full;
  @apply border border-current;
}

/* Modal overlay */
.modal-overlay {
  @apply fixed inset-0 z-50;
  @apply bg-black/50 backdrop-blur-sm;
}

.dark .modal-overlay {
  @apply bg-black/70;
}
